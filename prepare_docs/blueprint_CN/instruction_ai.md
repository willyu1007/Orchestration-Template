# 策略文档

面向代码开发的大模型已经将策略文档（如`AGENTS.md`、`CLAUDE.md`等）作为第一阅读入口，用来了解项目的规范、要求、执行策略等。另外，AI在工作过程中可能会阅读多份策略文档，以了解工作边界内的具体策略或独有规范。

本repo模板主要应用环境是AI为主要开发者的项目，所以我们要迎合AI使用策略的偏好，通过策略文档帮助AI高效理解项目建设思路、规范AI工作流程。模板遵循模块化开发原则，我们将策略文档分为三个层级：项目根目录、模块根目录、其他子目录，分别进行策略文档的相关说明。



## 1. 项目根目录的策略文档

项目根目录的策略文档的主要职责如下：
- 让AI快速了解项目的运行逻辑（模版的建设思路）
- 基本声明，告知AI下一步行为的阅读入口
- 让AI可以根据当前需求，加载相对应的规则以路由的形式给出（例如写入文档、创建文件、PR提交等规范）


### 1.1 必读内容

必读内容直接以自然语言的形式在文档中呈现，主要包含两类信息：声明/引导，以及repo使用说明；

- 声明：
  - AGENTS.md的策略文档作用，并且与其他类似功能的文档等价（如CLAUDE.md、GEMINI.md）
- 引导：
  - 根据常见的AI任务编排过程，按照情况划分，给出简短的指引（如下一步阅读哪一个策略文档）
- repo使用说明：不需要使用文档地址的形式给出。必读内容需要简要的介绍模版的主要运行机制
  - 模块化开发
  - 和hook机制的配合
  - 知识路由
  - 能力路由
  

### 1.2 选读内容

根据当前操作需求，AI可以在策略文档中查询操作相关规范的存放路径，然后访问具体文档，加载操作策略和规则。

典型的选读内容包括：
- 测试规范：
- 提交规范：提交PR时候需要遵循的格式、必填内容等
- 审核规范：对提交的PR进行审核的规范
- 命名规范：创建文件或目录时的命名规则
- 文档规范：需要修改文档时候需要遵守的规则，格式要求，风格约束等
- 脚本规范：创建会修改脚本需要遵守的规则
- 补充其他规范：For advanced topics such as packaging providers and API versioning

--- 

## 2. 模块根目录的策略文档

模板遵循模块化开发的规范。模块级的根目录的策略文档的主要职责如下：
- 开发的整体风格约束，例如整体UI风格，
- 如何进行集成测试
- 模块类型图、实例功能维护等关键信息
- 上下文机制的简要说明

### 2.1 必读内容

模块根目录`/modules/`是实际开发的最上层入口。我们应该在此处的策略文档中，写入最为基础的开发规范。必读内容包括：
- 上下文工作机制、配置文件的使用方法
- 模块实例、类型、层级在项目中起到的作用
- 集成测试和功能开发的区分
- modules骨架结构说明和目录使用说明
- 开发环境说明
- 数据库的交互说明（允许的凑中和需要严格遵守的约束）

### 2.2 选读内容

选读内容仍然是给出相关规范的存放路径，不直接将内容写在策略文档内，以保持文档本身的轻量。选读内容：
- 前端、后端等不同开发需求下的的代码约束
- 模型类型图的专门说明文档、模型类型注册表
- 模块实例的格式说明、模块实例的注册表、开发阶段/进度查询
- 集成测试的相关说明、测试数据相关说明
- 接口说明、接口当前状态、网管状态
- 容器和打包（docker等）
- 上线部署、服务器相关说明

---

## 3. 具体目录的策略文档

对于更为细分目录的策略文档，将会根偏向于特定工作范式下的行为准则和使用说明。

示例：
- 模块实例目录下的策略文档
- `workdocs/`目录下的策略文档
- `.system/`目录下的策略文档
- `.system/implement/`目录下的策略文档


---

## 4. 使用和维护

### 4.1 AI如何使用策略文档

我们希望AI使用策略的路径为：


为了强化AI使用行为，以下几点需要重点注意


### 4.2 策略文档的维护

虽然策略文档本身是规范说明，更偏向提前约定的行为准则。但随着项目推进，我们有时候仍然需要增加策略文档、或现有文档进行维护。

典型的情况包括：
- 新增模块实例或其他有特定准则的开发范围
- 文档内容描述的对象发生变化

第一种情况对应是策略文档的新增，模版提供了多数情况（如新增模块实例、上下文目录）的注册脚手架，但如果涉及到特定的开发规范维护准则，需要开发人员在对应目录下手动添加策略文档。

另一方面，策略文档很少具体维护说明类信息，这些细节指引往往是以独立文档的形式存在。这些独立文档指向的内容也需要随着项目的变化更新。为了保证更新的及时性，模版需要
- 维护一个额外的文档，用于记录每个策略文档及其相关的文说明文档的关联知识、更新时间等
- 提供一个系统性的检查工具，结合上述文档、CI、hook机制，定期触发检查，保证相关文档内容和项目进度同步










---
